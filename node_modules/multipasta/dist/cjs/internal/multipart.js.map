{"version":3,"file":"multipart.js","names":["CT","_interopRequireWildcard","require","HP","Search","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","State","errInvalidDisposition","_tag","errEndNotReached","errMaxParts","limit","errMaxTotalSize","errMaxPartSize","errMaxFieldSize","constCR","TextEncoder","encode","defaultIsFile","info","filename","undefined","contentType","parseBoundary","headers","parse","parameters","boundary","noopOnChunk","_chunk","make","onFile","onPart","onField","onError","onDone","isFile","maxParts","Infinity","maxTotalSize","maxPartSize","maxFieldSize","write","end","state","index","parts","onChunk","headerSkip","partSize","totalSize","fieldChunks","fieldSize","skipBody","body","headerParser","split","chunk","length","buf","Uint8Array","offset","result","error","contentDisposition","value","encodedFilename","decodeURIComponent","name","contentTypeParameters","contentDispositionParameters","endPosition","subarray","push","utf8Decoder","TextDecoder","getDecoder","charset","decodeField","decode"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}